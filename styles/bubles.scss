.circle-container {
  $particleNum: 21;
  // $particleColor: hsl(180, 100%, 80%);

  position: absolute;
  transform: translateY(-10vh);
  animation-iteration-count: infinite;
  animation-timing-function: linear;

  .circle {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    mix-blend-mode: screen;
    // background-image: radial-gradient(
    //   hsl(180, 100%, 80%),
    //   hsl(180, 100%, 80%) 10%,
    //   hsla(180, 100%, 80%, 0) 56%
    // );

    background-color: currentColor;

    animation: fade-frames 3000ms infinite;

    @keyframes fade-frames {
      0% {
        opacity: 1;
      }
      10% {
        opacity: 0.8;
      }
      20% {
        opacity: 0.6;
      }
      30% {
        opacity: 0.4;
      }
      40% {
        opacity: 0.2;
      }
      50% {
        opacity: 0.1;
      }
      60% {
        opacity: 0.2;
      }
      70% {
        opacity: 0.4;
      }
      80% {
        opacity: 0.6;
      }
      90% {
        opacity: 0.8;
      }
      100% {
        opacity: 1;
      }
    }
  }

  $particleBaseSize: 18;

  @for $i from 1 through $particleNum {
    &:nth-child(#{$i}) {
      $circleSize: random($particleBaseSize);
      width: $circleSize + px;
      height: $circleSize + px;

      // $startPositionY: random(10) + 100;
      $framesName: 'move-frames-' + $i;
      $moveDuration: 80000 + random(9000) + ms;

      animation-name: #{$framesName};
      animation-duration: $moveDuration;
      animation-delay: random(37000) + ms;

      left: 0;
      bottom: 0;

      @keyframes #{$framesName} {
        from {
          transform: translate3d(0, #{random(200) + px}, 0);
          // transform: translate3d(#{random(100) + vw}, 0, 0);
        }

        to {
          transform: translate3d(#{random(100) + vw}, -1000px, 0);
        }
      }
      // @keyframes #{$framesName} {
      //   from {
      //     transform: translate3d(
      //       #{random(100) + vw},
      //       #{$startPositionY + vh},
      //       0
      //     );
      //   }

      //   to {
      //     transform: translate3d(
      //       #{random(100) + vw},
      //       #{- $startPositionY - random(30) + vh},
      //       0
      //     );
      //   }
      // }

      .circle {
        animation-delay: random(1000) + ms;
      }
    }
  }
}
